<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
  <title>나의앱</title>
  <link rel="manifest" href="./manifest.json">
  <link rel="stylesheet" href="https://supsok.github.io/gbsw/touchstrap/css/touchstrap.css">
  <link rel="stylesheet" href="./style.css">
</head>

<body>

  <section id="page1">
    <header class="bar bar-nav">
      <h1 class="title">첫번째페이지</h1>
    </header>
  
    <main class="content">

      <div class="content-padded">
        <button type="button" class="btn btn-secondary" data-toggle="modal" data-target="#modal01">
          버튼
        </button>
      </div>

      <ul class="table-view">
        <li class="table-view-cell">
          <a class="">
            <span class="media-object pull-left pt-3 px-2">1</span>
            <img class="media-object pull-left mr-3" src="http://placehold.it/110x60">
            <div class="media-body ">
              첫영상
              <p><small class="text-muted">tubeMate</small></p>
            </div>
          </a>
        </li>
        <li class="table-view-cell">
          <a class="">
            <span class="media-object pull-left pt-3 px-2">2</span>
            <img class="media-object pull-left mr-3" src="http://placehold.it/110x60">
            <div class="media-body ">
              첫영상
              <p><small class="text-muted">tubeMate</small></p>
            </div>
          </a>
        </li>
        <li class="table-view-cell">
          <a class="">
            <span class="media-object pull-left pt-3 px-2">3</span>
            <img class="media-object pull-left mr-3" src="http://placehold.it/110x60">
            <div class="media-body ">
              첫영상
              <p><small class="text-muted">tubeMate</small></p>
            </div>
          </a>
        </li>
      </ul>
    </main>
  </section>

  <section class="modal" id="modal01">
    <header class="bar bar-nav">
      <a class="icon icon-left-nav pull-left" role="button" data-history="back"></a>
      <h1 class="title" data-role="title">모달</h1>
    </header>
  
    <main class="content">
      모달입니다.   
    </main>
  </section>





  <script>
  if ('serviceWorker' in navigator) {
      window.addEventListener('load', () => {
          navigator.serviceWorker.register('./service-worker.js') // serviceWorker 파일 경로
              .then((reg) => {
                  console.log('Service worker registered.', reg);
              })
              .catch(e => console.log(e));
      });
  }

  </script>

<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.4/jquery.min.js"></script>
<script src="https://supsok.github.io/gbsw/touchstrap/js/touchstrap.js"></script>


<script>




$('#modal01').on('shown.rc.modal', function () {
  //모달이 열린후
  const modal = $(this)
  console.log('모달이 열렸습니다.');
  fetch('https://mdn.github.io/learning-area/javascript/oojs/json/superheroes.json')
  .then(response => response.json())
  .then(data => {
    console.log('data',data.formed);
    modal.find('[data-role="title"]').text(data.formed)
  })
  .catch(error => console.error(error));

})
  

</script>

<script type="module">
  // Import the functions you need from the SDKs you need
  import { initializeApp } from "https://www.gstatic.com/firebasejs/9.21.0/firebase-app.js";
  // TODO: Add SDKs for Firebase products that you want to use
  // https://firebase.google.com/docs/web/setup#available-libraries

  // Your web app's Firebase configuration
  const firebaseConfig = {
    apiKey: "AIzaSyCSsJC1vNjpwl96546lKv4MW-C5rkBqlFs",
    authDomain: "gbsw-2e776.firebaseapp.com",
    projectId: "gbsw-2e776",
    storageBucket: "gbsw-2e776.appspot.com",
    messagingSenderId: "876497268413",
    appId: "1:876497268413:web:a6928e98970d3b9d9fd1d4"
  };

  // Initialize Firebase
  const app = initializeApp(firebaseConfig);
</script>
</body>
</html>
